# minimum_snap_homework
深蓝学院第五章作业
经典物理学：定义施加在物体上力的二阶变化率

jerk：所受力的一阶变化率

snap：所受力的二阶变化率

# minimum snap在做什么
经典学院派的路径规划主要由两部分组成：前端的路径搜索加后端的轨迹优化

对于路径搜索，常用的算法分类如下：

1. 基于搜索的planning
2. 基于采样的planning
3. 基于kinedynamic的planning

对于搜索得到的路径，它不一定是运动学可行的，所以我们需要对路径进行优化，得到一条可以被机器人执行的轨迹

minimum snap主要就是在做轨迹优化，它的目的是得到一条轨迹，满足下列需求：

1. 连续的
2. 光滑的
3. 最小化控制输入

# 问题形式
机器人轨迹可以由N阶多项式进行合成，以下讨论都是对其中一维进行讨论，通过将不同轴多项式进行合成，来获得最终运行的轨迹

$$
f(t)
=
\begin{cases}
f_{1}(t) = \sum_{i=1}^N p_{1,i}t^i  \quad T_{0}\leq t \leq T_{1} \\
f_{2}(t) = \sum_{i=1}^N p_{2,i}t^i  \quad T_{1}\leq t \leq T_{2} \\
\quad \quad \quad \vdots \\
f_{m}(t) = \sum_{i=1}^N p_{m,i}t^i  \quad T_{m-1}\leq t \leq T_{m}
\end{cases}
$$

表达式中：

$N$为多项式系数，$m$为轨迹段数

需要注意的点如下：

1. 对于每段多项式的系数并不需要固定，保持相同的系数可以使问题简化
2. 每段的时间间隔必须是已知的

约束项：

1. 起点和终点满足边界条件
2. 中间点的连续性约束

### 多项式阶数的确定
多项式的阶数对于问题解的存在性有很大的影响，最小化不同的控制输入对于多项式的阶数有着不同的要求

**minimum jerk**

对于某一段轨迹，两端点对于多项式施加了约束(p,v,a)，一共有$2*3 =6$个约束项，现假设多项式的系数为$N$，需要提供至少6个自由度，则有

$$
N+1 = 6
$$

可以得出多项式的阶数至少为5阶

**minimum snap**

两端点的约束为(p,v,a,j)，一共有$2*4=8$个约束项，现假设多项式的系数为$N$,需要提供至少8个自由度，则有

$$
N+1=8
$$

可以得出多项式的阶数至少为7阶

# 问题推导
![image](images/dQfneiyRZwkWuT_y8iRcwa5BUaNdGfw6D6J5MNeK0vE.png)



![image](images/R5-0p77Oq2FG4v64f33r9DEbgoOLs2kyrokI9OvYv-Q.png)
